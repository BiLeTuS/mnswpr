#~~!!!77!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!~~~7!~~~~~!7777777777??77?7?Y5?77??7!7???????????
#~~!!!!77!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!~~~~~!!!~~~~~!!!!!7777777??7?5GP?777?7!77???????777
#!!!!!!77!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!~~~~!!~~~~~!!!!!777777777?YGG5J?77?7!!77777777777
#!!!!!!!7!!!!!!!!~~!!!!!!!!!!!!!!!!!!!!!!!!!!~~~~~~~~~~~~!~~~~~!!!!!!!77777??YGGP5Y??777!!77777777777
#~~~~~~~!7!!~~!!~~~~~!!!!!!!!!!!!!!!77777????JJJJJJYYJ?7!!~~~~~~!!!!!!!7777?YPGGPP5Y?777!!!7777777777
#~~~~~~~!!!^:::::^^~~!!!!!!!!!!!!!!!!!777777777!!!!!!~~~~~^^^^^~~~!!!!!!!7JYPGPGGGP5J77!!~!7777777!!!
#~~~~~~~~!!^^^^^^^^~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^~~~~!!!!?JYPPPPGGGP5J?77!!~!7777!!!!!
#^~~~~~~~~!~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^::::^^^~~~~~!7?Y5PPPPPGPPP5Y?77!!~~!!!!!!!!!
#^^^~~^^^^!~~~^^^^^^^^^^^^^^^^^::::::::::::::::::::::::::::^^^~~~~~~!7J5PGPP55PPP5PP5J?7!!~~!!!!!!!!!
#J!~^^^^^^^^::::::::::::::::::::::::::::::::::::::::::::::^:^^~!!~!!?Y5PPP5555PPPPP55Y?7!!~~!!!!!!!!!
#?!^^^^^^^^^:::::^^^^^^^^^^^^::^^:::::::::::::^::^^^^^^^^~~~~~!777?JY5PPP55Y55PPPPP55YJ?7!!~~!!!!!!!!
#^::^^^^^^^^^^^^^^^^^^^^^755?~^:^^^^^^^^^~~~~~!7?????!~~~~~~!!7?YY55PPPP555Y55PPPPG5Y?77!!!~~~!!!!~~~
#::::::^^^^^^^^^^^^^^^^~~75GBPJ!~~~~~~~~^^^^^^~7????7!!!7?JYY555555555555Y5Y55PPGGGP5YJ?7!!~~~!!!!~~~
#:^^^^^~~~~~~~~~~~!!!!!!!!?5GGGGY7~^^^^^^~~~~!777?JY55PGGGGGGGP5555PPPPPP5555PPPPGGGGP5?!!~~^~~~~~~~~
#!!!!!!!!!!!!!!!!!!!!!~~~!?YPGGGBGPY??77?Y55PP55PPGBBBBBBBBBBGG55YPBB####BBBGGGGGGGGGGPJ!~~~^^~~~~~~~
#!!!!!!!!!~~~~~~~~~~~~^^:^7Y5PGGGGGGGBGGGGGGGGPPGGGGGGGPPPPPPGGPPPGBBBGPP5YYYYY5PGGGGGGPJ7!~^^^~~~~~~
#^^^^::::::::........:::^~7JYYPPPGGBBBGGGGGGGGPGGGGGGGGP5555PGGGGBGPJ?777!7?777??J5PGPPP5YJ?!^^^^^^^^
#... .......:::..........:~7YPGGGPGBBBGGPPGGGPPPPPPPPPPP555PGGBBGPJ7!!!!!~!???777?J5PPPP555YJ?!~^^^^^
#    ....::::::........:~?PB###BGBBBBBGGGGGGPPPPPPPPPPPPPGGGBGPJ?7!??7!~^:^~!!77?JYPBBBGP55YYY?!^^^^
#     ................^7YPGGGGPGGGB######BGGGGPPPPPPPPPPPPGBBBBY?7!7??77!!^^^~!7?JYPGBBGPP555YYY?!~~~
#     ...  ........:^7Y55J??777???JYPGB###BBGGGGGPPPPPPPPPGGBBG5Y?7777777!~~~7?Y5PGPP5YYYYYYY555Y?7!!
#   ....   ......:^!JY5Y?77????!!7777JYG##BBGGGGGGGPPPPP55555YJJJYYYJJJJY555PGGGP5YYJJJJJJJJYPPPPY?77
# ...............:~!7?JJJ?JY5J!^^^7??JJ5GGGGGGGGGGGPPPP55YYJ?????JY5PPPGGGGGGGP55YYYYYYYYYYY5PGGG5J??
#  .     .........::^7JYJJJJJ7^~^^??JJYYY55PPGGGGGPPPPPP55YJ??????JY5PPPPPPPPP555555P555555555GGGPYJ?
#           ....:::^7Y5YJJJJ??7~~7?JYYYJJY55PPPP55555YYYYYYJJJJYYY55PPPPPPPP5555555PPPPPPPPPPPGGGG5J7
#  ...:::::^^~~~!!!?5PPP55555555PPP55YYYYY55P5YJJJ????J??????JJ?YPGGGGGGGPP5555555PPPPPPPPPPPPPGGGG5?
#^^~~~!!!777777????JJYY55PPGGGGGGGP55Y55555555J????????77!!!777J5GBBBBGGPP55Y5PPPPPPP55555PPPPPPGGBGP
#??JJJJJJ???777!!!7?JJYYYYYY555555PPPGGGG555YJ?????7777?!~!7?J5GGGBGGGGGPPPPP5555555555555555555PGBBB
#YYJJ??77!!!~~~~~~!7JJJJYYYY55555PPGGGGBBG5YJ????JJJJJJJ???J5PGGGGGPPPPPPP5555YY5555YYYY5555YYY55PGGB
#77!!~~~~^^^^^^^^^!?YYYYY555PPP55PPPPGGBBBGGGPP55YYJJJJJJJY5PPPPPPPPP555555555YYYYYYYYYY55YYYYYY5PGGG
#~~~~~^^^^^^^^^^^~!?Y5PPPPPPPPPPPP5PGGGGGGGGGGGGP5YJJ??JJYY55555555555555555YYYYYYYYYYYYYYY55555PGGGG
#~~~~~~^^^^^^~~~~!!7J5PPPGGPPPPPPPPGGGGGGGGGGGGGP5YYJJ???JYYYYYY555555555YYYYYYYYYYYJJJJYYYYYY55PGGGG
#!!!!!!~~~~~~~~~~~~~7J5PPPPPPPGGGGGGGGGGGGGGGGPP55YYYJ7!!7?JJJJJYYYYYYYYYYYYYYJJJJJJJJJJYYYYYY55PPPPP
#~~~~~~~^^^^^^^^^^~!?JY5PPPPPPPPPPPPPPGGGGGGPPP55YYJJ?7777?????????JJJJ????????JJJJJJJJYYYYYY555PPPPP
#~~~~~~~~~~~^^~!!77??????JY5PPPPPPPPPPPPPPPP555YYJ??777?????????77??JJ7777????JJJJJJJYYYYYY55555PPPPP
#~~~~~~~~~~~!!7!!!!~~~~~!7?YPPPPP55555555555YYJJ?777??????????????????????JJJJJJJJJYYYYYYYYY555555555
#~~~~!!!!!~~~^^^^^^^^^~!77?J5PPPP5555555YYJJJ???777??????????????????JJJJJJJJJJJYYYYYYYYYYYY555555555
#~~~~~^^::^^^^^^^^^^~~!!!~!?Y5PPPPPP5555YYJJ????????JJJJJJJJJJJJJJJJJJJJJJJJJJJJYYYYYYYYYYYYY55555555
#^^^^^^^^^^^^::^^~~!!~^^^^~!J5PPPPPPP5555YYYYYJJJJJYYYYYYJJJJJJJJJJJJJJJJJJJJJJJJYYYYYYYYYYYYYYYYY555
#^^^^^^^^^^^^^~~~~^^:::^^~~~7J55PPPPP555555555YYYYYYYYYYYJJJJJJJJJJJJJJJJJJJJJJJJYYYYYYYYYYYYYYY55555
#^^^^^^^^^^^~~~^^::::^^^^^~~!7JY555555555555555YYYYYYYYYYJJJJJJJJJJJJJJJJJJJJJJJJYYYYYYYYYYYYYYYY5555
#^^^^^^^^^^^^::::::::::::^^^^~7?Y5555555555555555YYYYYYJJJJJJJJJJJJ??????JJJJJJJJYYYYYYYYYYYYYYYYYYYY
#^^^^^^^^^::::::::::::::::^^^^~!?Y55555555555555555YYYYYYYYJJJJJJJJ?????JJJJJJJYYYYYYYYYYYYYYYYYYYJYY
#^^^^^^^^::::::::::::::::::::^^~7JYY55555555555555555555YYYYYYYJJJJJJJJJJJJJJJJJYYYYYYYYYYYYYYYYYYYYY
#^^^^^:^^^:::::::::.::::::::::^~7JYYY55555555555555Y5555YYYYYYYYYYJJJJJJJJJJJJJJJJYJJYYYYJJJJJJYYYYYY
#::::::::::::::::...:::...:::::^!?JYYYYYY555555YYYYYYYYYYYYYYYYYYYYYYYJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
#::::::::::::::::..::::::::::::^^!JYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ

#  A_B_C_D_E_F_G_H_I
#1|      1 @ 1  
#2|1 2 1 2 1 2 1 1   
#3|! 3 ! 2   1 @ 1   
#4|1 3 ! 3 1 2 1 1   
#5|  1 1 2 @ 1       
#6|    1 2 3 2 1     
#7|  1 2 @ 2 @ 2 1 1 
#8|  1 @ 2 2 1 2 @ 1 
#9|  1 1 1     1 1 1 


def out_red(text):
    return("\033[31m{}" .format(text) + "\033[37m")
def out_green(text):
    return("\033[32m{}" .format(text) + "\033[37m")
def out_blue(text):
    return("\033[34m{}" .format(text) + "\033[37m")
def out_purple(text):
    return("\033[35m{}" .format(text) + "\033[37m")
def out_black(text):
    return("\033[30m{}" .format(text) + "\033[37m")



import random as r

x = 1
genn = 0

rar = []
enrar = []
for i in range (9):
    rar.append([])
for i in range (11):
    enrar.append([])
 
 
for i in range (len(rar)):
    for z in range (len(rar)):
        rar[i].append('?')
for i in range (len(enrar)):
    for z in range (len(enrar)):
        enrar[i].append(0)
def show():
    global rar
    global enrar
    print('  A_B_C_D_E_F_G_H_I')
    for i in range (len(rar)):
        print(i+1, end = '|')
        for ii in range (len(rar[i])):
            if rar[i][ii] == 0:
                print(' ', end = ' ')
            else:
                print(rar[i][ii], end=' ')
        print()

def openzero():
    x = 0
    global rar
    global enrar
    global Ox
    global Ooy
    if enrar[Ox][Ooy] == 0:
        rar[Ox][Ooy] = 0
    else:
        return(0)
    


while genn < 10:
    X = r.randrange(1,9)
    Y = r.randrange(1,9)
    if enrar[X][Y]!='*':
        enrar[X][Y]='*'
        genn += 1
        
for Ox in range (len(enrar)):
    for Oy in range (len(enrar)):
        if enrar[Ox][Oy] == '*':
            if Ox != 0:
                if enrar [Ox-1][Oy] != '*':
                    enrar[Ox-1][Oy] = (enrar[Ox-1][Oy])+1
                if Oy != 0:
                    if enrar [Ox-1][Oy-1] != '*':
                        enrar [Ox-1][Oy-1] = (enrar[Ox-1][Oy-1])+1
                if Oy != 8:
                    if enrar [Ox-1][Oy+1] != '*':
                        enrar [Ox-1][Oy+1] = (enrar[Ox-1][Oy+1])+1
            if Ox != 8:
                if enrar [Ox+1][Oy] != '*':
                    enrar[Ox+1][Oy] = (enrar[Ox+1][Oy])+1
                if Oy != 0:
                    if enrar [Ox+1][Oy-1] != '*':
                        enrar [Ox+1][Oy-1] = enrar[Ox+1][Oy-1]+1
                if Oy != 8:
                    if enrar [Ox+1][Oy+1] != '*':
                        enrar [Ox+1][Oy+1] = (enrar[Ox+1][Oy+1])+1
            if Oy != 0:
                if enrar[Ox][Oy-1] != '*':
                    enrar[Ox][Oy-1] = (enrar[Ox][Oy-1])+1
            if Oy != 8:
                if enrar[Ox][Oy+1] != '*':
                    enrar[Ox][Oy+1] = (enrar[Ox][Oy+1])+1

unrar = enrar

def numchanger():
    global Ooy
    if Ooy == 'A':
        Ooy = 0
    elif Ooy == 'B':
        Ooy = 1
    elif Ooy == 'C':
        Ooy = 2
    elif Ooy == 'D':
        Ooy = 3
    elif Ooy == 'E':
        Ooy = 4
    elif Ooy == 'F':
        Ooy = 5
    elif Ooy == 'G':
        Ooy = 6
    elif Ooy == 'H':
        Ooy = 7
    elif Ooy == 'I':
        Ooy = 8

                

def choose():
    global Ox
    global Ooy
    global x
    global rar
    global enrar
    for i in range (1):
        print('===================')
        print('/f - Поставить флаг (/f E2)')
        print('/r - Убрать флаг (/r E2)')
        OXY = str(input('Введите координаты точки в формате "E2": '))
        #Oy = str(input('Введите букву столбца: '))
        #Ox = int(input('Введите номер строчки: '))-1
        if len(OXY) != 2 and len(OXY) != 0:
            if OXY[0] == '/':
#                 if OXY[1] == 'r':
#                     Ooy = OXY[3]
#                     numchanger()
#                     Ox = int(OXY[4])-1
#                     enrar[Ox][Ooy] = unrar[Ox][Ooy]
#                     rar[Ox][Ooy] = '?'
                    
                if OXY[1] == 'f':
                    Ooy = OXY[3]
                    numchanger()
                    Ox = int(OXY[4])-1
                    if enrar[Ox][Ooy] == '*':
                        enrar[Ox][Ooy] = '\033[33m' + 'P' + "\033[37m"
                        rar[Ox][Ooy] = '\033[33m' + 'P' + "\033[37m"
                        return(0)
                    else:
                        enrar[Ox][Ooy] = '!'
                        rar[Ox][Ooy] =  '\033[33m' + 'P' + "\033[37m"
                        return(0)
            else:
                print('Error!')
                return(0)
        elif len(OXY) == 2:
            print('1')
            print(enrar[Ox][Ooy])
            print(unrar[Ox][Ooy])
            Ooy = OXY[0]
            Ox = int(OXY[1])-1
            numchanger()
            if enrar[Ox][Ooy] != '!':
                if enrar[Ox][Ooy] == 0:
                    openzero()
                if enrar[Ox][Ooy] == 1:
                    rar[Ox][Ooy] = out_blue(enrar[Ox][Ooy])
                elif enrar[Ox][Ooy] == 2:
                    rar[Ox][Ooy] = out_green(enrar[Ox][Ooy])
                elif enrar[Ox][Ooy] == 3:
                    rar[Ox][Ooy] = out_red(enrar[Ox][Ooy])
                elif enrar[Ox][Ooy] == 4:
                    rar[Ox][Ooy] = out_purple(enrar[Ox][Ooy])
                elif enrar[Ox][Ooy] == 5:
                    rar[Ox][Ooy] = out_black(enrar[Ox][Ooy])
                else:
                    rar[Ox][Ooy] = (enrar[Ox][Ooy])
            if enrar[Ox][Ooy] == '*':
                x = 2
                show()
                print('===Вы проиграли!===')
                
            else:
                return(0)
        else:
            print('Error!')
            return(0)
        
        
while x == 1:
    show()
    choose()
    
    
     
    
    
    
